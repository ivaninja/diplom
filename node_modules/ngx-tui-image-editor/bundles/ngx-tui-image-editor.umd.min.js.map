{"version":3,"sources":["ng://ngx-tui-image-editor/lib/toast-ui-image-editor.component.ts","ng://ngx-tui-image-editor/lib/toast-ui-image-editor.module.ts"],"names":["includeUIOptions","includeUI","initMenu","editorDefaultOptions","cssMaxWidth","cssMaxHeight","this","addText","EventEmitter","mousedown","objectActivated","objectMoved","objectScaled","redoStackChanged","textEditing","undoStackChanged","ToastUiImageEditorComponent","prototype","ngAfterViewInit","options","Object","assign","editorInstance","ImageEditor","editorRef","nativeElement","addEventListeners","ngOnDestroy","removeEventListeners","destroy","on","editorEvents","event","_this","emit","originPointer","off","Component","args","selector","template","encapsulation","ViewEncapsulation","None","Input","Output","ViewChild","ToastUiImageEditorModule","NgModule","imports","declarations","exports"],"mappings":"mwBA0BY,YACE,cACM,oBACJ,gBACC,iBACI,qBACL,gBACK,mBAEfA,EAAmB,CACvBC,UAAW,CACTC,SAAU,WAGRC,EAAiC,CACrCC,YAAa,IACbC,aAAc,+BAsBdC,KAAAL,WAAqB,EAGrBK,KAAAC,QAAoB,IAAIC,EAAAA,aACxBF,KAAAG,UAAsB,IAAID,EAAAA,aAC1BF,KAAAI,gBAA4B,IAAIF,EAAAA,aAChCF,KAAAK,YAAwB,IAAIH,EAAAA,aAC5BF,KAAAM,aAAyB,IAAIJ,EAAAA,aAC7BF,KAAAO,iBAA6B,IAAIL,EAAAA,aACjCF,KAAAQ,YAAwB,IAAIN,EAAAA,aAC5BF,KAAAS,iBAA6B,IAAIP,EAAAA,oBAMjCQ,EAAAC,UAAAC,gBAAA,WACE,IAAIC,EAAUhB,EACVG,KAAKL,YACPkB,EAAUC,OAAOC,OAAOrB,EAAkBM,KAAKa,UAEjDb,KAAKgB,eAAiB,IAAIC,EACxBjB,KAAKkB,UAAUC,cACfN,GAEFb,KAAKoB,qBAGPV,EAAAC,UAAAU,YAAA,WACErB,KAAKsB,uBACLtB,KAAKgB,eAAeO,WAGdb,EAAAC,UAAAS,wCACNpB,KAAKgB,eAAeQ,GAAGC,EAAsB,SAAAC,GAC3C,OAAAC,EAAK1B,QAAQ2B,KAAKF,KAEpB1B,KAAKgB,eAAeQ,GAAGC,EAAwB,SAACC,EAAOG,GACrD,OAAAF,EAAKxB,UAAUyB,KAAK,CAAEF,MAAKA,EAAEG,cAAaA,MAE5C7B,KAAKgB,eAAeQ,GAAGC,EAA8B,SAAAC,GACnD,OAAAC,EAAKvB,gBAAgBwB,KAAKF,KAE5B1B,KAAKgB,eAAeQ,GAAGC,EAA0B,SAAAC,GAC/C,OAAAC,EAAKtB,YAAYuB,KAAKF,KAExB1B,KAAKgB,eAAeQ,GAAGC,EAA2B,SAAAC,GAChD,OAAAC,EAAKrB,aAAasB,KAAKF,KAEzB1B,KAAKgB,eAAeQ,GAAGC,EAA+B,SAAAC,GACpD,OAAAC,EAAKpB,iBAAiBqB,KAAKF,KAE7B1B,KAAKgB,eAAeQ,GAAGC,EAA0B,WAC/C,OAAAE,EAAKnB,YAAYoB,SAEnB5B,KAAKgB,eAAeQ,GAAGC,EAA+B,SAAAC,GACpD,OAAAC,EAAKlB,iBAAiBmB,KAAKF,MAIvBhB,EAAAC,UAAAW,gCACStB,KAAmB,eAAE8B,IAAIL,GACzBzB,KAAmB,eAAE8B,IAAIL,GACzBzB,KAAmB,eAAE8B,IAAIL,GACzBzB,KAAmB,eAAE8B,IAAIL,GACzBzB,KAAmB,eAAE8B,IAAIL,GACzBzB,KAAmB,eAAE8B,IAAIL,GACzBzB,KAAmB,eAAE8B,IAAIL,GACzBzB,KAAmB,eAAE8B,IAAIL,wBAnF3CM,EAAAA,UAASC,KAAA,CAAC,CACTC,SAAU,mBACVC,SAAU,sHAUVC,cAAeC,EAAAA,kBAAkBC,2+4BAGhCC,EAAAA,uBACAA,EAAAA,uBAEAC,EAAAA,0BACAA,EAAAA,gCACAA,EAAAA,4BACAA,EAAAA,6BACAA,EAAAA,iCACAA,EAAAA,4BACAA,EAAAA,iCACAA,EAAAA,0BAEAC,EAAAA,UAASR,KAAA,CAAC,uBC5EbS,EAAA,oDAGCC,EAAAA,SAAQV,KAAA,CAAC,CACRW,QAAS,GACTC,aAAc,CAAClC,GACfmC,QAAS,CAACnC,SANZ","sourcesContent":["import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  ViewChild,\n  Output,\n  ViewEncapsulation\n} from \"@angular/core\";\nimport ImageEditor from \"tui-image-editor\";\n\nimport {\n  IAddTextEvent,\n  IMousedownEvent,\n  IGraphicObjectProps,\n  IOptions\n} from \"./toast-ui-image-editor.models\";\n\nimport \"tui-image-editor/dist/svg/icon-a.svg\";\nimport \"tui-image-editor/dist/svg/icon-b.svg\";\nimport \"tui-image-editor/dist/svg/icon-c.svg\";\nimport \"tui-image-editor/dist/svg/icon-d.svg\";\n\nenum editorEvents {\n  addText = \"addText\",\n  mousedown = \"mousedown\",\n  objectActivated = \"objectActivated\",\n  objectMoved = \"objectMoved\",\n  objectScaled = \"objectScaled\",\n  redoStackChanged = \"redoStackChanged\",\n  textEditing = \"textEditing\",\n  undoStackChanged = \"undoStackChanged\"\n}\nconst includeUIOptions = {\n  includeUI: {\n    initMenu: \"filter\"\n  }\n};\nconst editorDefaultOptions: IOptions = {\n  cssMaxWidth: 700,\n  cssMaxHeight: 500\n};\n\ninterface IImageEditor extends ImageEditor {\n  off(eventName: string): void;\n}\n\n@Component({\n  selector: \"tui-image-editor\",\n  template: `\n    <div\n      #imageEditor\n      id=\"tuiImageEditor\"\n      style=\"width: 100%;height: 100%;\"\n    ></div>\n  `,\n  styleUrls: [\n    \"../../../../node_modules/tui-image-editor/dist/tui-image-editor.css\"\n  ],\n  encapsulation: ViewEncapsulation.None\n})\nexport class ToastUiImageEditorComponent implements AfterViewInit, OnDestroy {\n  @Input() includeUI = true;\n  @Input() options: IOptions;\n\n  @Output() addText = new EventEmitter<IAddTextEvent>();\n  @Output() mousedown = new EventEmitter<IMousedownEvent>();\n  @Output() objectActivated = new EventEmitter<IGraphicObjectProps>();\n  @Output() objectMoved = new EventEmitter<IGraphicObjectProps>();\n  @Output() objectScaled = new EventEmitter<IGraphicObjectProps>();\n  @Output() redoStackChanged = new EventEmitter<number>();\n  @Output() textEditing = new EventEmitter<void>();\n  @Output() undoStackChanged = new EventEmitter<number>();\n\n  @ViewChild(\"imageEditor\") editorRef: ElementRef;\n\n  editorInstance: ImageEditor;\n\n  ngAfterViewInit() {\n    let options = editorDefaultOptions;\n    if (this.includeUI) {\n      options = Object.assign(includeUIOptions, this.options);\n    }\n    this.editorInstance = new ImageEditor(\n      this.editorRef.nativeElement,\n      options\n    );\n    this.addEventListeners();\n  }\n\n  ngOnDestroy() {\n    this.removeEventListeners();\n    this.editorInstance.destroy();\n  }\n\n  private addEventListeners() {\n    this.editorInstance.on(editorEvents.addText, event =>\n      this.addText.emit(event)\n    );\n    this.editorInstance.on(editorEvents.mousedown, (event, originPointer) =>\n      this.mousedown.emit({ event, originPointer })\n    );\n    this.editorInstance.on(editorEvents.objectActivated, event =>\n      this.objectActivated.emit(event)\n    );\n    this.editorInstance.on(editorEvents.objectMoved, event =>\n      this.objectMoved.emit(event)\n    );\n    this.editorInstance.on(editorEvents.objectScaled, event =>\n      this.objectScaled.emit(event)\n    );\n    this.editorInstance.on(editorEvents.redoStackChanged, event =>\n      this.redoStackChanged.emit(event)\n    );\n    this.editorInstance.on(editorEvents.textEditing, () =>\n      this.textEditing.emit()\n    );\n    this.editorInstance.on(editorEvents.undoStackChanged, event =>\n      this.undoStackChanged.emit(event)\n    );\n  }\n\n  private removeEventListeners() {\n    (<IImageEditor>this.editorInstance).off(editorEvents.addText);\n    (<IImageEditor>this.editorInstance).off(editorEvents.mousedown);\n    (<IImageEditor>this.editorInstance).off(editorEvents.objectActivated);\n    (<IImageEditor>this.editorInstance).off(editorEvents.objectMoved);\n    (<IImageEditor>this.editorInstance).off(editorEvents.objectScaled);\n    (<IImageEditor>this.editorInstance).off(editorEvents.redoStackChanged);\n    (<IImageEditor>this.editorInstance).off(editorEvents.textEditing);\n    (<IImageEditor>this.editorInstance).off(editorEvents.undoStackChanged);\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { ToastUiImageEditorComponent } from \"./toast-ui-image-editor.component\";\n\n@NgModule({\n  imports: [],\n  declarations: [ToastUiImageEditorComponent],\n  exports: [ToastUiImageEditorComponent]\n})\nexport class ToastUiImageEditorModule {}\n"]}